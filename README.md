
# master App Backend

Bu backend h…ôm **customer** (m√º≈üt…ôri), h…ôm d…ô **master** (b…ôrb…ôr) istifad…ô√ßil…ôr √º√ß√ºn n…ôz…ôrd…ô tutulmu≈üdur.
Burada customer-lar qeydiyyatdan ke√ßib master-…ô rezervasiya ed…ô, h…ôm√ßinin master-l…ôr…ô ulduz v…ô ≈ü…ôrh yaza bil…ôrl…ôr.
master-l…ôr is…ô √∂zl…ôri haqqƒ±nda v…ô t…ôqdim etdikl…ôri xidm…ôtl…ôr haqqƒ±nda m…ôlumat ver…ô bil…ôrl…ôr.


---


## üìå Entity-l…ôr v…ô Tipl…ôri

### 1. **User**

**C…ôdv…ôl:** `user`

| Sah…ô                        | Tip                   | ƒ∞zah                                                  |
| --------------------------- | --------------------- | ----------------------------------------------------- |
| `id`                        | `Long`                | Unikal identifikator                                  |
| `username`                  | `String`              | ƒ∞stifad…ô√ßi adƒ±                                        |
| `email`                     | `String`              | Email √ºnvanƒ±                                          |
| `password`                  | `String`              | ≈ûifr…ôl…ônmi≈ü parol                                     |
| `role`                      | `RoleType` *(enum)*   | ƒ∞stifad…ô√ßi rolu (**ADMIN**, **CUSTOMER**, **master**) |
| `gender`                    | `GenderType` *(enum)* | Cinsi (**MALE**, **WOMAN**)                           |
| `phoneNumber`               | `String`              | Telefon n√∂mr…ôsi                                       |
| `profilePicture`            | `String`              | Profil ≈ü…ôkli URL-i                                    |
| `createdAt`                 | `LocalDateTime`       | Yaradƒ±lma tarixi                                      |
| `updatedAt`                 | `LocalDateTime`       | Yenil…ônm…ô tarixi                                      |
| `verificationCodeExpiresAt` | `LocalDateTime`       | Doƒürulama kodunun bitm…ô tarixi                        |
| `verificationCode`          | `String`              | Email doƒürulama kodu                                  |
| `enabled`                   | `boolean`             | Hesab aktiv olub-olmamasƒ±                             |

∆èlaq…ôl…ôr:

* `List<Appointment>` ‚Äî **OneToMany** (customer rezervasiyalarƒ±)
* `List<RefreshToken>` ‚Äî **OneToMany** (refresh tokenl…ôr)

---

# Master Entity

**C…ôdv…ôl:** `master`

Bu entity b…ôrb…ôrl…ôri v…ô onlarƒ±n m…ôlumatlarƒ±nƒ± t…ômsil edir.

## Sah…ôl…ôr

| Sah…ô              | Tip                   | ƒ∞zah                                                   |
|-------------------|-----------------------|--------------------------------------------------------|
| `id`              | `Long`                | Unikal identifikator                                   |
| `user`            | `User`                | ∆èlaq…ôli istifad…ô√ßi (OneToOne)                          |
| `name`            | `String`              | B…ôrb…ôrin adƒ±                                           |
| `profilePhotoUrl` | `String`              | Profil ≈ü…ôkil URL-i                                     |
| `galleryPhotos`   | `List<String>`        | B…ôrb…ôrin …ôlav…ô ≈ü…ôkil qalereyasƒ±                        |
| `location`        | `String`              | √únvan                                                  |
| `rating`          | `Double`              | √úmumi reytinq                                          |
| `targetGender`    | `GenderType` *(enum)* | Xidm…ôt etdiyi cins                                     |
| `createdAt`       | `LocalDateTime`       | Yaradƒ±lma tarixi                                       |
| `updatedAt`       | `LocalDateTime`       | Yenil…ônm…ô tarixi                                       |
| `is_available`    | `Boolean`             | M√∂vcud olub-olmamasƒ±                                   |
| `masterType`       | `MasterType`          | |

## ∆èlaq…ôl…ôr

* `List<Service>` ‚Äî **OneToMany** (t…ôklif olunan xidm…ôtl…ôr)
* `List<Appointment>` ‚Äî **OneToMany** (q…ôbul edil…ôn rezervasiyalar)
* `List<Review>` ‚Äî **OneToMany** (m√º≈üt…ôri r…ôyl…ôri)
* `List<Schedule>` ‚Äî **OneToMany** (i≈ü qrafiki)

## Qeyd

- `galleryPhotos` sah…ôsi `@ElementCollection` vasit…ôsil…ô …ôlav…ô ≈ü…ôkill…ôrin saxlanmasƒ± √º√ß√ºn istifad…ô olunur.
- `is_available` sah…ôsi b…ôrb…ôrin hazƒ±rda m√∂vcud olub-olmamasƒ±nƒ± g√∂st…ôrir.
- OneToMany …ôlaq…ôl…ôr `mappedBy` atributu il…ô `Master` entity-si il…ô …ôlaq…ôl…ôndirilmi≈üdir.
- 
## is_available Sah…ôsi Haqqƒ±nda

- `is_available` sah…ôsi **h…ômi≈ü…ô default olaraq `false`** olaraq t…ôyin olunub.
- Bu sah…ô b…ôrb…ôrin **bug√ºn i≈ül…ôyib-i≈ül…ôm…ôdiyini** g√∂st…ôrm…ôk √º√ß√ºn istifad…ô olunur.
- H…ôr d…ôf…ô barber app-…ô daxil olduqda, sistem avtomatik olaraq x…ôb…ôrdarlƒ±q g√∂st…ôrir.
- Bu yolla, barberin bug√ºnk√º i≈ü statusu real vaxtda izl…ônil…ô bilir.
- M…ôqs…ôd: b…ôrb…ôr t…ôcili i≈ü √º√ß√ºn m√∂vcud olduqda bunu qeyd ed…ô bilir v…ô m√º≈üt…ôri d…ô rahatlƒ±qla g√∂r…ô bilir ki, b…ôrb…ôr hazƒ±rda i≈ül…ôyirmi v…ô ya i≈üd…ô deyil.

## masterType Sah…ôsi Haqqƒ±nda
**masterType** o dem…ôkdir ki, bunun b…ôrb…ôr, qadƒ±n sa√ß ustasƒ± v…ô yaxud da tatuaj/laser ustasƒ± olduƒüunu g√∂st…ôrm…ôk √º√ß√ºn verilib.  
Bunun s…ôb…ôbi is…ô odur ki, biz front-end-d…ô ona servisl…ôri g√∂st…ôr…ôrk…ôn yalnƒ±z √∂z√ºn…ô aid olanlarƒ± g√∂st…ôr…ôc…ôyik.

---

### 3. **Appointment**

**C…ôdv…ôl:** `appointment`

| Sah…ô              | Tip                          | ƒ∞zah                        |
| ----------------- | ---------------------------- | --------------------------- |
| `id`              | `Long`                       | Unikal identifikator        |
| `customer`        | `User`                       | Rezervasiya ed…ôn istifad…ô√ßi |
| `master`          | `master`                     | Rezervasiya olunan b…ôrb…ôr   |
| `services`        | `List<Service>`              | Se√ßilmi≈ü xidm…ôtl…ôr          |
| `appointmentDate` | `LocalDate`                  | Tarix                       |
| `appointmentTime` | `LocalTime`                  | Saat                        |
| `status`          | `ReservationStatus` *(enum)* | Rezervasiya statusu         |
| `createdAt`       | `LocalDateTime`              | Yaradƒ±lma tarixi            |
| `updatedAt`       | `LocalDateTime`              | Yenil…ônm…ô tarixi            |

---

### 4. **Service**

**C…ôdv…ôl:** `service`

| Sah…ô              | Tip                    | ƒ∞zah                       |
| ----------------- | ---------------------- | -------------------------- |
| `id`              | `Long`                 | Unikal identifikator       |
| `master`          | `master`               | Xidm…ôt sahibi b…ôrb…ôr       |
| `serviceType`     | `ServiceType` *(enum)* | Xidm…ôt n√∂v√º                |
| `description`     | `String`               | T…ôsviri                    |
| `durationMinutes` | `Integer`              | Davametm…ô m√ºdd…ôti (d…ôqiq…ô) |
| `price`           | `Double`               | Qiym…ôt                     |
| `createdAt`       | `LocalDateTime`        | Yaradƒ±lma tarixi           |
| `updatedAt`       | `LocalDateTime`        | Yenil…ônm…ô tarixi           |

---

### 5. **Review**

**C…ôdv…ôl:** `reviews`

| Sah…ô        | Tip             | ƒ∞zah                 |
| ----------- | --------------- | -------------------- |
| `id`        | `Long`          | Unikal identifikator |
| `customer`  | `User`          | R…ôyi yazan m√º≈üt…ôri   |
| `master`    | `master`        | R…ôy yazƒ±lan b…ôrb…ôr   |
| `rating`    | `Integer`       | Ulduz sayƒ±           |
| `comment`   | `String`        | R…ôy m…ôtni            |
| `createdAt` | `LocalDateTime` | Tarix                |

---

### 6. **Schedule**

**C…ôdv…ôl:** `schedule`

| Sah…ô        | Tip             | ƒ∞zah                 |
| ----------- | --------------- | -------------------- |
| `id`        | `Long`          | Unikal identifikator |
| `master`    | `master`        | ∆èlaq…ôli b…ôrb…ôr       |
| `dayOfWeek` | `DayOfWeek`     | H…ôft…ônin g√ºn√º        |
| `startTime` | `LocalTime`     | ƒ∞≈üin ba≈ülama vaxtƒ±   |
| `endTime`   | `LocalTime`     | ƒ∞≈üin bitm…ô vaxtƒ±     |
| `createdAt` | `LocalDateTime` | Yaradƒ±lma tarixi     |
| `updatedAt` | `LocalDateTime` | Yenil…ônm…ô tarixi     |

---

### 7. **RefreshToken**

**C…ôdv…ôl:** `refresh_token`

| Sah…ô        | Tip       | ƒ∞zah                    |
| ----------- | --------- | ----------------------- |
| `id`        | `Long`    | Unikal identifikator    |
| `token`     | `String`  | Refresh token string    |
| `createdAt` | `Date`    | Yaradƒ±lma tarixi        |
| `expiredAt` | `Date`    | Bitm…ô tarixi            |
| `revoked`   | `boolean` | L…ôƒüv edilib/edilm…ôyib   |
| `user`      | `User`    | Token sahibi istifad…ô√ßi |

---

## üìå Enum-lar v…ô D…ôy…ôrl…ôr

### **GenderType**

```java
MALE,
WOMAN
```

### **ReservationStatus**

```java
PENDING,    // G√∂zl…ôm…ôd…ô
CONFIRMED,  // T…ôsdiql…ônib
CANCELED    // L…ôƒüv edilib
```

### **RoleType**

```java
ADMIN,
CUSTOMER,
master
```
### **MasterType**

```java
BARBER,
HAIRDRESSER,
LASER,
TATTOO
```

### **ServiceType**

```java
FADE,
COLORING,
BEARD_TRIM,
KERATIN,
HAIRCUT,
SHAVE,
WASH_AND_STYLE,
SCALP_TREATMENT,
MASK,
BLACK_MASK,
HOT_TOWEL,
EYEBROW_TRIM,
HAIR_TATTOO,
CHILD_HAIRCUT,
HEAD_MASSAGE,
SHAMPOO_ONLY,
BLOW_DRY,
HAIR_STRAIGHTENING
```

---




## Rollar

ƒ∞stifad…ô√ßil…ôr **MASTER** v…ô **CUSTOMER** rollarƒ±na ayrƒ±lƒ±r.
Bunun m…ôqs…ôdi t…ôhl√ºk…ôsizliyi artƒ±rmaqdƒ±r ‚Äî **CUSTOMER** kimi daxil olmu≈ü istifad…ô√ßi **MASTER**-…ô aid API-l…ôr…ô m√ºdaxil…ô ed…ô bilm…ôz.

## API URL strukturu

3 n√∂v URL var (security …ôsaslƒ±):

* `/public/**` ‚Äî authentication t…ôl…ôb etmir (misal: `/public/login`, `/public/register`)
* `/master/**` ‚Äî yalnƒ±z **MASTER** roluna icaz…ô verilir
* `/customer/**` ‚Äî yalnƒ±z **CUSTOMER** roluna icaz…ô verilir

Public URL-l…ôr…ô a≈üaƒüƒ±dakƒ±lar daxildir:

* `/public/login`
* `/public/register`
* `/public/refresh-accessToken`
* `/public/verify-user`
* `/public/resend-code`

---

## Auth Sistemi

### Register

**Endpoint:**

```
POST {base_url}/public/register
```

**Request body (JSON):**

```json
{
  "username": "exampleUser",
  "email": "user@example.com",
  "password": "SecurePass123!",
  "role": "ADMIN",  // ola bil…ôr: "ADMIN", "CUSTOMER", "MASTER"
  "gender": "MALE",
  "phoneNumber": "+1234567890"
}

```

> Frontend-d…ô register zamanƒ± ilk √∂nc…ô istifad…ô√ßi `role` se√ßsin, sonra dig…ôr sah…ôl…ôri doldursun.
> `gender` se√ßiminin m…ôqs…ôdi istifad…ô√ßiy…ô uyƒüun (gender-based) master-l…ôri g√∂st…ôrm…ôkdir.

---

### Login

**Endpoint:**

```
POST {base_url}/public/login
```

**Request body (JSON):**

```json
{
  "email": "user@example.com",
  "password": "securePassword123"
}
```

> Login zamanƒ± frontend `role` g√∂nd…ôrm…ôlidir dey…ô bir t…ôl…ôb yoxdur ‚Äî backend email-…ô …ôsaslanaraq istifad…ô√ßinin rolunu tapƒ±r v…ô frontend bu role-a g√∂r…ô f…ôrqli dizayn g√∂st…ôr…ô bil…ôr.

**Register v…ô Login response formatƒ± (JSON):**

```json
{
  "accessToken": "string",
  "refreshToken": "string",
  "roleType": "master" / veya "CUSTOMER"
}
```

---

### Email doƒürulamasƒ±

**Endpoint:**

```
POST {base_url}/public/verify-user
```

**Request body (JSON):**

```json
{
  "email": "user@example.com",
  "verificationCode": "123456"
}
```

---

### Access Token yenil…ôm…ô

> Qeyd: **accessToken = 2 saat**, **refreshToken = 24 saat**

**Endpoint:**

```
POST {base_url}/public/refresh-accessToken
```

**Request body (JSON):**

```json
{
  "refreshToken": "your-refresh-token-string"
}
```

---

### Verification kodunu yenid…ôn g√∂nd…ôrm…ôk

**Endpoint:**

```
POST {base_url}/public/resend-code
```

**Request body:**

```
"user@example.com"
```

A≈üaƒüƒ±da verdiyin m…ôlumatlarƒ± n…ôz…ôr…ô alaraq **Appointment API** √º√ß√ºn s…ôliq…ôli `README.md` formatƒ±nƒ± hazƒ±rladƒ±m:

---

# Appointment API Documentation


## **1. Appointment Yaratmaq**

H…ôr iki rol √º√ß√ºn m√∂vcuddur:

* **Customer:** `{base_url}/customer/create-appointment`
* **master:** `{base_url}/master/create-appointment`

**Method:** `POST`

### **Request Body**

```json
{
  "masterId": 1,
  "serviceIds": [67890, 54321],
  "appointmentDate": "2025-08-15",
  "appointmentTime": "14:30:00"
}
```

### **Response**

```json
{
  "id": 56789,
  "masterName": "John Smith",
  "customerName": "Jane Doe",
  "services": [
    {
      "serviceId": 101,
      "serviceName": "KERATIN",
      "price": 30.00
    },
    {
      "serviceId": 102,
      "serviceName": "HAIRCUT",
      "price": 15.00
    }
  ],
  "appointmentDate": "2025-08-15",
  "appointmentTime": "10:00:00",
  "appointmentEndTime": "11:00:00",
  "status": "CONFIRMED"
}

```
## appointmentEndTime Sah…ôsi Haqqƒ±nda

- `appointmentEndTime` sah…ôsi **avtomatik t…ôyin olunur**.
- H…ôr bir xidm…ôtin m√ºdd…ôti n…ôz…ôr…ô alƒ±naraq hesablanƒ±r.  
  M…ôs…ôl…ôn, sa√ß k…ôsimi 30 d…ôqiq…ô √ß…ôkirs…ô, bu m√ºdd…ôt avtomatik olaraq `appointmentTime`-a …ôlav…ô olunur.
- ∆èlav…ô olaraq, sistem 10 d…ôqiq…ô **buffer vaxtƒ±** da …ôlav…ô edir ki, n√∂vb…ôti rezervasiya √º√ß√ºn vaxt qalƒ±r.
- Bu sah…ô m√º≈üt…ôri v…ô b…ôrb…ôr √º√ß√ºn g√∂r√º≈ü√ºn real son vaxtƒ±nƒ± g√∂st…ôrir v…ô d√ºzg√ºn planla≈üdƒ±rma t…ômin edir.

---

## **2. Appointmentl…ôri Oxumaq**

* **Endpoint:** `{base_url}/customer/read-appointments`
* **Method:** `GET`
**Request:** T…ôl…ôb olunmur. Login olmu≈ü istifad…ô√ßiy…ô aid b√ºt√ºn g√∂r√º≈ül…ôr (…ôn son edil…ônd…ôn …ôn …ôvv…ôl…ô doƒüru sƒ±ralanmƒ±≈ü) qaytarƒ±lƒ±r.

### **Response**

```json
[
  {
    "id": 56789,
    "masterName": "John Smith",
    "customerName": "Jane Doe",
    "services": [
      {
        "serviceId": 101,
        "serviceName": "Haircut",
        "price": 30.00
      },
      {
        "serviceId": 102,
        "serviceName": "Beard Trim",
        "price": 15.00
      }
    ],
    "appointmentDate": "2025-08-15",
    "appointmentTime": "10:00:00",
    "status": "CONFIRMED"
  },
  {
    "id": 56790,
    "masterName": "John Smith",
    "customerName": "Peter Jones",
    "services": [
      {
        "serviceId": 103,
        "serviceName": "Shave",
        "price": 20.00
      }
    ],
    "appointmentDate": "2025-08-15",
    "appointmentTime": "11:30:00",
    "status": "PENDING"
  },
  {
    "id": 56791,
    "masterName": "Emily White",
    "customerName": "Sarah Brown",
    "services": [
      {
        "serviceId": 101,
        "serviceName": "Haircut",
        "price": 30.00
      },
      {
        "serviceId": 104,
        "serviceName": "Coloring",
        "price": 80.00
      }
    ],
    "appointmentDate": "2025-08-16",
    "appointmentTime": "09:00:00",
    "status": "COMPLETED"
  }
]
```

---

## **3. Appointment Yenil…ôm…ôk**

* **Endpoint:** `{base_url}/customer/update-appointment/{id}`
* **Method:** `PUT`

### **Request Body**

```json
{
  "appointmentDate": "2025-08-15",
  "appointmentTime": "14:00:00",
  "serviceIds": [101, 102]
}
```

### **Response**

`createAppointment` endpointind…ô olduƒüu formatda qaytarƒ±lƒ±r.

---

## **4. Appointment Silm…ôk**

**Endpoint:** `{base_url}/customer/update-appointment/{id}`
**Method:** `DELETE`

### **Request:**

* Sad…ôc…ô `id` URL-d…ô g√∂nd…ôrilir.
* Response olaraq he√ß n…ô qaytarƒ±lmƒ±r.

---

A≈üaƒüƒ±dakƒ± kimi s…ôn…ô uyƒüun **README.md** m…ôtni hazƒ±rladƒ±m ‚Äî s…ôn bunu birba≈üa layih…ônin k√∂k qovluƒüuna qoysan, master API-l…ôri √º√ß√ºn izahlƒ± s…ôn…ôd olacaq.

---

## Master (Entity) API Documentation

Bu s…ôn…ôd, master rolundakƒ± istifad…ô√ßil…ôrin √∂z profilini idar…ô etm…ôsi v…ô m√º≈üt…ôril…ôrin masterl…ôr haqqƒ±nda m…ôlumat axtarmasƒ± √º√ß√ºn n…ôz…ôrd…ô tutulmu≈ü API-l…ôrin t…ôsvirini t…ôqdim edir.

---

## üîç Public Endpoints

### 1. **B√ºt√ºn masterl…ôri Oxumaq (Search Result)**

**Endpoint:**

```
GET {base_url}/public/get-masters
```

**A√ßƒ±qlama:**
Axtarƒ±≈ü ekranƒ±nda b√ºt√ºn masterl…ôri g√∂st…ôrm…ôk √º√ß√ºn istifad…ô olunur.

**Response n√ºmun…ôsi:**

```json
[
{
  "id": 12345,
  "name": "John Smith",
  "profilePhotoUrl": "https://example.com/profiles/john_smith.jpg",
  "galleryPhotos": [
    "https://example.com/gallery/photo1.jpg",
    "https://example.com/gallery/photo2.jpg"
  ],
  "location": "123 Main Street, Baku, Azerbaijan",
  "rating": 4.8,
  "targetGender": "MALE",
  "services": [
    {
      "serviceId": 101,
      "serviceName": "Haircut",
      "price": 15.0,
      "durationMinutes": 30
    },
    {
      "serviceId": 102,
      "serviceName": "Keratin Treatment",
      "price": 30.0,
      "durationMinutes": 60
    }
  ],
  "reviews": [
    {
      "reviewId": 201,
      "customerName": "Jane Doe",
      "rating": 5,
      "comment": "Great haircut!"
    },
    {
      "reviewId": 202,
      "customerName": "Alex Brown",
      "rating": 4,
      "comment": "Friendly and professional."
    }
  ],
  "schedules": [
    {
      "dayOfWeek": "MONDAY",
      "startTime": "09:00:00",
      "endTime": "18:00:00"
    },
    {
      "dayOfWeek": "TUESDAY",
      "startTime": "09:00:00",
      "endTime": "18:00:00"
    }
  ],
  "is_available": false
}

]
```

---

### 2. **master Detallarƒ± (ID √ºzr…ô)**

**Endpoint:**

```
GET {base_url}/public/get-master/{id}
```

**A√ßƒ±qlama:**
Se√ßilmi≈ü master haqqƒ±nda tam m…ôlumat qaytarƒ±r.

**Response n√ºmun…ôsi:**

```json
{
  "id": 12345,
  "name": "John Smith",
  "profilePhotoUrl": "https://example.com/profiles/john_smith.jpg",
  "galleryPhotos": [
    "https://example.com/gallery/photo1.jpg",
    "https://example.com/gallery/photo2.jpg"
  ],
  "location": "123 Main Street, Baku, Azerbaijan",
  "rating": 4.8,
  "targetGender": "MALE",
  "services": [
    {
      "serviceId": 101,
      "serviceName": "Haircut",
      "price": 15.0,
      "durationMinutes": 30
    },
    {
      "serviceId": 102,
      "serviceName": "Keratin Treatment",
      "price": 30.0,
      "durationMinutes": 60
    }
  ],
  "reviews": [
    {
      "reviewId": 201,
      "customerName": "Jane Doe",
      "rating": 5,
      "comment": "Great haircut!"
    },
    {
      "reviewId": 202,
      "customerName": "Alex Brown",
      "rating": 4,
      "comment": "Friendly and professional."
    }
  ],
  "schedules": [
    {
      "dayOfWeek": "MONDAY",
      "startTime": "09:00:00",
      "endTime": "18:00:00"
    },
    {
      "dayOfWeek": "TUESDAY",
      "startTime": "09:00:00",
      "endTime": "18:00:00"
    }
  ],
  "is_available": false
}

```

---

## üíº Barber Endpoints

### 1. **master Profilini G√∂r√ºnt√ºl…ôm…ôk**

**Endpoint:**

```
GET {base_url}/master/profile
```
**Response**
```json
{
  "id": 12345,
  "name": "John Smith",
  "profilePhotoUrl": "https://example.com/profiles/john_smith.jpg",
  "galleryPhotos": [
    "https://example.com/gallery/photo1.jpg",
    "https://example.com/gallery/photo2.jpg"
  ],
  "location": "123 Main Street, Baku, Azerbaijan",
  "rating": 4.8,
  "targetGender": "MALE",
  "services": [
    {
      "serviceId": 101,
      "serviceName": "Haircut",
      "price": 15.0,
      "durationMinutes": 30
    },
    {
      "serviceId": 102,
      "serviceName": "Keratin Treatment",
      "price": 30.0,
      "durationMinutes": 60
    }
  ],
  "reviews": [
    {
      "reviewId": 201,
      "customerName": "Jane Doe",
      "rating": 5,
      "comment": "Great haircut!"
    },
    {
      "reviewId": 202,
      "customerName": "Alex Brown",
      "rating": 4,
      "comment": "Friendly and professional."
    }
  ],
  "schedules": [
    {
      "dayOfWeek": "MONDAY",
      "startTime": "09:00:00",
      "endTime": "18:00:00"
    },
    {
      "dayOfWeek": "TUESDAY",
      "startTime": "09:00:00",
      "endTime": "18:00:00"
    }
  ],
  "is_available": false
}
```

**A√ßƒ±qlama:**
Giri≈ü etmi≈ü masterin profil m…ôlumatlarƒ±nƒ± qaytarƒ±r.

---

### 2. **master Profilini Yenil…ôm…ôk**

**Endpoint:**

<<<<<<< HEAD
```
PATCH {base_url}/master/update-masterProfile/
```
=======
## PATCH {base_url}/master/update-masterProfile/

**A√ßƒ±qlama:**  
Bu endpoint **masterin profilini yenil…ôm…ôk** √º√ß√ºn istifad…ô olunur.  

- Request body **entity**-y…ô …ôsaslanƒ±r v…ô dinamikdir.  
- ∆èlav…ô olaraq, istifad…ô√ßi profil ≈ü…ôkli v…ô qalereya ≈ü…ôkill…ôri …ôlav…ô ed…ô bil…ôr.  

### Parametrl…ôr

| Parametr        | Tip                       | ƒ∞zah |
|-----------------|---------------------------|------|
| `updates`       | `Map<String, Object>`     | Yenil…ôn…ôc…ôk sah…ôl…ôr v…ô onlarƒ±n d…ôy…ôrl…ôri |
| `profilePhoto`  | `MultipartFile`           | Profil ≈ü…ôkli (yalnƒ±z 1 ≈ü…ôkil se√ßil…ô bil…ôr) |
| `galleryPhotos` | `MultipartFile[]`         | Qalereya √º√ß√ºn …ôlav…ô ≈ü…ôkill…ôr (maksimum 5 ≈ü…ôkil se√ßil…ô bil…ôr) |

### Qeyd

- `profilePhoto` sah…ôsi yalnƒ±z bir ≈ü…ôkil √º√ß√ºn n…ôz…ôrd…ô tutulub.  
- `galleryPhotos` sah…ôsind…ô maksimum 5 ≈ü…ôkil …ôlav…ô edil…ô bil…ôr.  
- ∆èlav…ô edilmi≈ü ≈ü…ôkill…ôr `galleryPhotos` listin…ô …ôlav…ô olunur v…ô m√∂vcud ≈ü…ôkill…ôr d…ôyi≈üdiril…ô bil…ôr.


**A√ßƒ±qlama:**
masterin profilini yenil…ôm…ôk √º√ß√ºn istifad…ô olunur. Request body **entity**-y…ô …ôsaslanƒ±r v…ô dinamikdir ∆èlav…ô olaraq burda ≈ü…ôkil se√ßil…ôc…ôk.

**M√ºmk√ºn d…ôyi≈üiklikl…ôr:**

* **location** ‚Äî ƒ∞≈ü √ºnvanƒ±
* **services** ‚Äî T…ôklif olunan xidm…ôtl…ôr v…ô qiym…ôtl…ôri
* **schedules** ‚Äî ƒ∞≈ü g√ºnl…ôri v…ô saatlarƒ±

---

## üì± Frontend ƒ∞stifad…ô Qaydasƒ±

master rolunda giri≈ü ed…ôn istifad…ô√ßi:

1. **Ana ekranda** profilini yaratmaq v…ô ya yenil…ôm…ôk imkanƒ± g√∂r…ôc…ôk.
2. **Location** se√ß…ôc…ôk.
3. **Xidm…ôtl…ôr** v…ô qiym…ôtl…ôri …ôlav…ô ed…ôc…ôk.
4. **ƒ∞≈ü saatlarƒ±nƒ±** m√º…ôyy…ôn ed…ôc…ôk.

M√º≈üt…ôri t…ôr…ôfd…ô is…ô:

* **Axtarƒ±≈ü ekranƒ±nda** `get-masters` endpoint-d…ôn g…ôl…ôn siyahƒ± g√∂st…ôrilir.
* Se√ßilmi≈ü masterin detallarƒ± `get-master/{id}` endpoint-i il…ô g…ôtirilir.

---
A≈üaƒüƒ±dakƒ± kimi sad…ô v…ô aydƒ±n ≈ü…ôkild…ô **Review** API √º√ß√ºn README hiss…ôsi hazƒ±rladƒ±m:

---

## ‚≠ê Review API

### 1. **Review verm…ôk (yalnƒ±z m√º≈üt…ôril…ôr √º√ß√ºn)**

master rolundakƒ± istifad…ô√ßil…ôr review ver…ô bilm…ôzl…ôr. Bu, masterl…ôr arasƒ±nda …ôsassƒ±z v…ô m…ônasƒ±z r…ôyl…ôrin qar≈üƒ±sƒ±nƒ± almaq √º√ß√ºnd√ºr.

**Endpoint:**

```
POST {base_url}/customer/give-review/{id}
```

* `{id}` ‚Üí Review veril…ôc…ôk masterin unikal identifikatoru

**Request Body:**

```json
{
  "rating": 5,
  "comment": "Great service and a fantastic haircut!"
}
```

* `rating` ‚Äî Ulduz sayƒ± (m√ºtl…ôq olmalƒ±dƒ±r, 1-5 arasƒ±)
* `comment` ‚Äî ≈û…ôrh (ist…ôy…ô baƒülƒ±, amma yazƒ±larsa, `rating` m√ºtl…ôq olmalƒ±dƒ±r)

---

### 2. **Review-larƒ±n g√∂st…ôrilm…ôsi**

masterin b√ºt√ºn review-larƒ± `GET {base_url}/public/get-master/{id}` endpointind…ôn alƒ±nƒ±r v…ô frontendd…ô masterin profili v…ô ya detallarƒ± g√∂st…ôril…ôrk…ôn g√∂r√ºn√ºr.

---

**Qeyd:**

* M√º≈üt…ôri yalnƒ±z ulduz ver…ô bil…ôr, amma ≈ü…ôrh yazarsa, ulduz verm…ôk m√ºtl…ôqdir.
* masterl…ôr review ver…ô bilm…ôz.

---

---

## üìÖ Schedule (ƒ∞≈ü Qrafiki) API - master √º√ß√ºn

masterl…ôr √∂z i≈ü saatlarƒ±nƒ± idar…ô etm…ôk √º√ß√ºn bu endpointl…ôrd…ôn istifad…ô edirl…ôr.

---

### 1. **Yeni i≈ü qrafiki yaratmaq**

**Endpoint:**

```
POST {base_url}/master/create-schedule
```

**Request Body:**

```json
{
  "dayOfWeek": "MONDAY",    // "TUESDAY", "WEDNESDAY" v…ô s.
  "startTime": "09:00:00",
  "endTime": "17:00:00"
}
```

**Response:**

```json
{
  "dayOfWeek": "MONDAY",
  "startTime": "09:00:00",
  "endTime": "17:00:00"
}
```

---

### 2. **M√∂vcud i≈ü qrafikini yenil…ôm…ôk**

**Endpoint:**

```
PATCH {base_url}/master/update-schedule/{id}
```

* `{id}` ‚Äî Yenil…ôn…ôc…ôk i≈ü qrafikinin ID-si

**Request Body:**

* Entity strukturuna uyƒüun, dinamik olaraq d…ôyi≈ü…ô bil…ôr (m…ôs…ôl…ôn, `dayOfWeek`, `startTime`, `endTime`)

**Response:**

```json
{
  "dayOfWeek": "MONDAY",
  "startTime": "09:00:00",
  "endTime": "17:00:00"
}
```

---

### 3. **ƒ∞≈ü qrafikini silm…ôk**

**Endpoint:**

```
DELETE {base_url}/master/delete-schedule/{id}
```

* `{id}` ‚Äî Silin…ôc…ôk i≈ü qrafikinin ID-si

**Response:**

* Bo≈ü (void), he√ß bir data qaytarƒ±lmƒ±r

---

Bu endpointl…ôr masterl…ôr…ô √∂z i≈ü g√ºnl…ôrini v…ô saatlarƒ±nƒ± rahat idar…ô etm…ôy…ô imkan verir.

---

A≈üaƒüƒ±da **Service API** √º√ß√ºn README.md hiss…ôsini hazƒ±rladƒ±m:

---

## üíà Service API - masterin T…ôklif Etdiyi Xidm…ôtl…ôr

---

### 1. **Yeni xidm…ôt yaratmaq**

**Endpoint:**

```
POST {base_url}/master/create-service
```

**Request Body:**

```json
{
  "serviceType": "HAIRCUT",
  "description": "A classic men's haircut with a modern touch.",
  "durationMinutes": 45,
  "price": 35.00
}
```

**Response:**

```json
{
  "id": 101,
  "serviceType": "HAIRCUT",
  "description": "A stylish haircut tailored to your preferences.",
  "durationMinutes": 45,
  "price": 30.00
}
```

---

### 2. **M√∂vcud xidm…ôti yenil…ôm…ôk**

**Endpoint:**

```
PATCH {base_url}/master/update-service/{id}
```

* `{id}` ‚Äî Yenil…ôn…ôc…ôk xidm…ôtin ID-si

**Request Body:**

* Entity strukturuna uyƒüun d…ôyi≈üiklikl…ôr (m…ôs…ôl…ôn, `serviceType`, `description`, `durationMinutes`, `price`)

**Response:**

```json
{
  "id": 101,
  "serviceType": "HAIRCUT",
  "description": "A stylish haircut tailored to your preferences.",
  "durationMinutes": 45,
  "price": 30.00
}
```

---

### 3. **Xidm…ôti silm…ôk**

**Endpoint:**

```
DELETE {base_url}/master/delete-service/{id}
```

* `{id}` ‚Äî Silin…ôc…ôk xidm…ôtin ID-si

**Response:**

* Bo≈ü (void), he√ß bir data qaytarƒ±lmƒ±r

---

### 4. **Xidm…ôtin t…ôf…ôrr√ºatlarƒ±nƒ± oxumaq**

**Endpoint:**

```
GET {base_url}/master/read-service/{id}
```

* `{id}` ‚Äî Xidm…ôtin ID-si

**Qeyd:**

* Bu endpoint frontend-d…ô xidm…ôtin detallarƒ±nƒ± g√∂st…ôrm…ôk √º√ß√ºn istifad…ô olunur.
* G…ôl…ôc…ôkd…ô silin…ô bil…ôr, √ß√ºnki m…ôntiq olaraq master profilind…ô g√∂st…ôril…ôn xidm…ôtl…ôrl…ô birlikd…ô g…ôlm…ôsi daha faydalƒ±dƒ±r.

---

### 5. **masterin b√ºt√ºn xidm…ôtl…ôrini oxumaq (g…ôl…ôc…ôkd…ô silin…ô bil…ôr)**

**Endpoint:**

```
GET {base_url}/master/read-services/
```

* Bu endpoint masterin b√ºt√ºn xidm…ôtl…ôrini oxumaq √º√ß√ºn n…ôz…ôrd…ô tutulub, amma m…ôntiqi s…ôb…ôbd…ôn frontend-d…ô istifad…ô etm…ôk t√∂vsiy…ô edilmir.
* Xidm…ôtl…ôr, review-lar v…ô c…ôdv…ôll…ôr (`schedules`) bir yerd…ô profil ekranƒ±na y√ºkl…ônm…ôsi daha uyƒüundur.

---
```

```

---

## ‚ö†Ô∏è Probleml…ôr v…ô G…ôl…ôc…ôk T…ôkmill…ô≈üdirm…ôl…ôr

### 1. **Review-larƒ±n idar…ôsi**

* ƒ∞stifad…ô√ßi artƒ±q ulduz v…ô ya review vermi≈üs…ô, onun t…ôkrar review verm…ôsinin qar≈üƒ±sƒ± alƒ±nmalƒ±dƒ±r.
* ƒ∞stifad…ô√ßil…ôr…ô m√∂vcud review-larƒ±nƒ± redakt…ô etm…ôk imkanƒ± …ôlav…ô edilm…ôlidir ki, eyni ≈ü…ôxs y√ºzl…ôrl…ô review g√∂nd…ôr…ô bilm…ôsin.

### 2. **Profilin silinm…ôsi**

* ƒ∞stifad…ô√ßil…ôr v…ô masterl…ôr √º√ß√ºn profil silm…ôk funksiyasƒ± …ôlav…ô edilm…ôlidir.
* Bu, hesablarƒ±n idar…ôsi v…ô t…ôhl√ºk…ôsizliyi baxƒ±mƒ±ndan vacibdir.

### 3. **master axtarƒ±≈üƒ± (search) funksiyasƒ±**

* masterl…ôri ada g√∂r…ô axtarmaq funksiyasƒ± …ôlav…ô olunmalƒ±dƒ±r.
* Bu, istifad…ô√ßil…ôrin sevdikl…ôri masterl…ôri daha asan tapmasƒ± √º√ß√ºn √∂n…ômlidir.

### 4. **Appointment vaxtƒ±nƒ±n idar…ôsi**

* Hazƒ±rda rezervasiya zamanƒ± yalnƒ±z ba≈ülanƒüƒ±c vaxtƒ± t…ôyin olunur.
* Rezervasiyanƒ±n bitm…ô vaxtƒ± (end time) hesablanmƒ±r v…ô g√∂st…ôrilmir.
* G…ôl…ôc…ôkd…ô end time servis m√ºdd…ôtin…ô …ôsaslanaraq backend t…ôr…ôfind…ôn avtomatik hesablanmalƒ±dƒ±r.
* Servisl…ôrin h…ôr birinin m√ºdd…ôtin…ô …ôlav…ô olaraq 10 d…ôqiq…ô tampon vaxt …ôlav…ô edil…ô bil…ôr.



---









